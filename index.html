<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实验Klinecharts</title>
    <script src="./dist/klinecharts.development.js"></script>
    <style>
        #basic-k-line{
            margin: 0 auto;
            width: 500px;
            height: 500px;
            background: #25272F;
        }
        #basic-k-lineA{
            width: 800px;
            height: 800px;
            background: #25272F;
        }
    </style>
</head>
<body>
    <div id="basic-k-line" class="k-line-chart"></div>
    <script type="module">
        
        const kLineChart = klinecharts.init('basic-k-line');
        let logoData={
            width:'100',
            height: '100',
            x:'100',
            y:'100',
            imgUrl: "https://avatars3.githubusercontent.com/u/36433232?s=60&v=4"
        }
        kLineChart.setLogoData(logoData);
        
        let Kdata=[
            { close: 4976.16, high: 4977.99, low: 4970.12, open: 4972.89, timestamp: 1587660000000, volume: 204 },
            { close: 4977.33, high: 4979.94, low: 4971.34, open: 4973.20, timestamp: 1587660060000, volume: 194 },
            { close: 4977.93, high: 4977.93, low: 4974.20, open: 4976.53, timestamp: 1587660120000, volume: 197 },
            { close: 4966.77, high: 4968.53, low: 4962.20, open: 4963.88, timestamp: 1587660180000, volume: 28 },
            { close: 4961.56, high: 4972.61, low: 4961.28, open: 4961.28, timestamp: 1587660240000, volume: 184 },
            { close: 4964.19, high: 4964.74, low: 4961.42, open: 4961.64, timestamp: 1587660300000, volume: 191 },
            { close: 4968.93, high: 4972.70, low: 4964.55, open: 4966.96, timestamp: 1587660360000, volume: 105 },
            { close: 4979.31, high: 4979.61, low: 4973.99, open: 4977.06, timestamp: 1587660420000, volume: 35 },
            { close: 4977.02, high: 4981.66, low: 4975.14, open: 4981.66, timestamp: 1587660480000, volume: 135 },
            { close: 4985.09, high: 4988.62, low: 4980.30, open: 4986.72, timestamp: 1587660540000, volume: 76 }
        ];

        const updateData = () => {
            setTimeout(() => {
                const newData = Kdata[Math.floor(Math.random()*Kdata.length)];
                kLineChart.updateData(newData)
                updateData(kLineChart)
            }, 1000)
        }
         
        kLineChart.applyNewData(Kdata)
        updateData();
    </script>
</body>
</html>